00:00时刻的爱好，我决定于频率，这个我不行，之前我电动车哼不能，你看对不起，没是的，
00:51是一起对于不能。他们就不平吗？其实很麻烦，就是不要。对，不是那个对不起。
02:09那个昨天四个群吗？有什么意义？开启太久，就是去是去做那个一个小时，然后呢，其实不坚持十五号是过去一下，
04:04是我的情绪。九月是的，没成意，嗯嗯，是嗯，好，
05:37行啊，我们继续 OK。那么接下来的一个问题，最后我们上节课其实介绍了这个单单 value 的这个 passas，对吧？那么我们最后接下来的问题就是我们这个 pacthas 能不能用来解决我们这个 view server 的问题呢？
05:50就比如说我们所谓的 view server，就是我们需要一个机器去记，对吧？当前的这个 view 是谁啊？以及它会对这个 view 去做更新做更新。大家想想我们这个这个 passas 是不是能做呢？
06:03啊只能能做呢，其实还是不能做的，能不能不能做？为什么？因为我们这个 pythons 一旦然后目前讲的这个 python single deputy pxas，它一旦把这个 view 给确认下来了，
06:14意味着什么？意味着说意味着说什么，意味着说这个这个这个 value 就不会变了，对吧？在 pythons 里面，只要 majority 它的 sap 操售 value 就不会变了。
06:24那么对应到我们这个 view server 的这样的一个情况下的话，就是说我一旦我这个 view 显成功了。好，我要再改它就不可能了，不可能了。那我们怎么去让它可能呢？
06:35因为 python 它其实只能够保证什么一个版本的这样的一个 state。那我们得需要一个东西叫做 multipancas multipancers。那 multi pancers 呢它其实的原理非常非常简单，它其实就是啊基于我们之前的这个这个 penacas 做他的想法什么呢？大家想想，我们现在已经有一个能够确保就是一个 value 这个 value 这个并发怎么写，
07:00他都都起的都是这个可靠的对吧？那么大家想想，我们现在要需要什么呢？我们其实只要需要确保一组 tiverlivalue 什么意思？我要确保 v 零的值，我知道，
07:10然后我再去确保 v 一的值，知道对吧？我得去做这样的一个更新，那我怎么怎么去更新呢？很简单，就我 v 零我用一个 paxas 去同同步，
07:20然后我 v 一也用一个 pacelas 去保护，然后 VR 也用一个 pacthas 保护。我每要确定一个新的值，我就开启一个新的 pxas 的 instance 是这样的话。那如果有一个人已经已经，比如说我在做 VR 的时候，
07:36一个一个人他已经 paxas 决定的值啊，那我开启一个新的 pxas 的 instance，我也能读到它的值，对不对？我就不用去写一个这样一一个新的值了。那这个其实就是一个非常简单的困。
07:47具体来说就是我们要同意一组我们去做一组连续的这样一个操作。我们我们做这个操作，根据我们之前 ISM 我们能够写成什么？能够写成一个 log，然后每个 log 它都有个 action。然后呢，
07:59我们在每台机器上 OK，我们就对应每个 log entry，我们都有一个 pacelce。而每一个 pacelce 就是这样的一个这个这个这个这个每一个 pacthas 就是我们前面讲的这个 single devic pacthce。其实在这种情况下，我们就能够去支持我们前面说的这个值。
08:18比如说我们来举个例子，假设我们有三个 rabc 卡，然后他们当前的这个 log 是一样的 OK。好，假设我们这个个是 v view server，假设我们这个就是 view server 啊，
08:27有 miview server 需要加一个新的值。比如说我需要改一个新的变量，怎么办呢？好，第一，我先找一下。
08:33我现在发现啊我当前的这个 view 最大是二，那我就新建一个 view 三的这个 pacthce。然后呢，我去我先 select index，我先选择这个 index 等于三。然后呢，
08:46我再去向原来的 python 发起人是什么？先去 prepare。 prepare 就是我们说的 urpose，就是我先判断一下我是不是当前唯一的这个 writer。好一看啊，我是的好，
08:56我就再把这个 YY 写上去，然后 majority accept，这样我就把这三个值同步了，同步了。 OK 大家看这就是一个基本的这样的过程。好吧，
09:05那这个过程它其实的我的情况，比如说我这个 s 一，如果它当时这个 value 不是最小怎么办？比如说他写的时候， s 二和 s 三都已经有 ZZZ 了，这个时候怎么办？
09:16那没关系啊，我再去 prepare 的时候，我们的这个 ZZZ 会根据这个的协议会把它当前记录 pacteraccept 的值给返回回来，对不对？那这个时候的话，我的这个 index 三我其实就能知道啊，
09:29原来你你应该是 ZZZ。所以他再发起一轮 accept 它就怎么样，他们就可以把这个值全都同步了。然后如果要做下一个选择的话，那我就再开启一轮 pythas，这样不就能一直延续下去了吗？
09:45 OK，那大家想想这个其实就是我们今天跟大家讲讲的其实一个最基本的这样的一个扩展啊扩展。好，那么大家想那我们你可以看到我们有了 python 的时候，我们有了这个 multi 的之后，我其实也可以去做我们的这个 panthprde rapthon 的 consensttly，
10:01对吧？那么这一套方法它的问题是什么呢？大家也说我们说系统问题，无非就是什么性能性能问题，实际上我说你跑的快不快，对吧？
10:11那么大家想想快不快，它实际上是有一个相对变量，就是你要跟谁比。那么它跟我们现在知道的其他方法比，大家想想它是不是一个快的方法呢？那么我们说我们今天讲的其他方法是什么啊？
10:22是 primary back up replication，对吧？我们都不会考虑全 evenconsiit，为什么？因为它的正确性不一样，你比较两个正确性不同的东西的比较性能是没有意义的对吧？
10:31就跟你现在很多做大模型优化，对吧？它就比拿拿一个什么量的的方去比较，这个没量化对吧？的方法作围我加速十倍啊，这不都是屁话嘛。
10:39你这比量画一些打打架子，是不是感觉智智商不一样一样？我们比较这个这个性能一定要在什么？一定要在你的这个正确性一样的这个情况下去比较啊，对不对？那么好。
10:50那么大家想想，我们今在这个跟 python 达到相同正确性的这样的一个这个这个这个这个这个这个这个这个这个方法是什么？是是你的这个 prime blackup，对吧？那么大家想想看，我们现在这套 moltipython，
11:02它虽然没有对它不依赖于 useruser，对吧？但是它的这个这个这个这个这个它的问题什么？那么所谓看问题，就是看你每一个操作，它花了多少时间，
11:12对不对？大家想想我们这个 pride back up，我每完成一次操作，它只需要多少个请求啊？它只需要有大部分 majority 的这样的一个这个 back back up 去返回就可以了。但是你只只需要什么一轮老却。
11:26但是我们在这个 texas 里面，我们要决定一个值，我们至少需要花两次。第一次是什么？作为做一个 prepare， prepare 完之后再做 sector，
11:38那它的性能其实就会比这个 prime backup 差，对不对？这也是为什么我们说为什么 privy back ackup 它依赖一个 view server，看上去是一个很很奇怪的设计。但是我们很多数据中心的这个协议仍然沿用它。因为很重要的原因就是 prime backup 和它的这个这个性能实际上是非非常好的。
11:55尤其在一个数据数据中心呢，好好，那么这个其实就是现在的这个基本的 multi python 的问题。当然啊当然这个为了简单完全在想，为什么我 prime betup 都不需要两个容确的。其实原因也很简简，
12:09因为 prime beback up 它有个 view server 帮它做了这个片啊，对不对？所以说它其实不需要，但我不需要这样的一个那个那个那个好，那么这个时候我们就会有优化，对我们不不能做优化，
12:19对吧？因为其实讲 prepacthon 实际上是一个非常非常经典的协议。它其实到现在为止，经有几百篇 paper 在在做优化，我们能不能能不能减少呢？比如说我能 server 减少这个这个这个 prepare 的这个这个这个第一轮 prepare 的这个消消息呢。
12:33那大家想想我们第一轮 prepare 的目的是什么？目的是我要看一下我是不是当前的这个系统里面最最呃 prepare 后 proposal 最大的这个这个 writer，对不对？我这 proposal 最大的这样的一个过程。那如果我我是当前这个这个 proposal 最大的 right，那其实我就或者说我这个 prepare，
12:53在我这个成为在我发 prepare 之前，我已经知道我大概率是当前最大的 writer。那是不是我其实没有必要再去发言轮和备案，对吧？这个这个事情能不能做呢？其实在 primarback 上怎么做？
13:05就是我用 view seer ch 指定啊，你有一个 leader，这个 leader 就一定是唯一的 writer。那么在 passis 里面，其实我们也可以用类似的操作，就是我们也挑一个 primary 啊，
13:16或者叫 leader 啊，这个 leader 呢就是大大大部分时间上大概率啊都是来写。好，那么大家想想想有了这个 leader 之后，我们就可以做一个小的优化。就是我一次 prepare，
13:28我可以把这个我之后的所有的这个 pxas 都 prepare 全做完，什么意思呢？就比如说我们要这个 leader，对吧？我我我可能要做二这个 VO 等于二这个修改， VO 等于三，
13:41这个修改对吧？然后我正常情况下，我其实是要 prepare 两次，对吧？ preare 两次，我 prepare 一次，
13:48三也 prepare 一次。但是我这边的 leader 呢，我可以干一件事情，就是我一次 prepare 可以把二和三全 prepare 完，可不可以干这件事？就是我发一个 prepare，
13:57我把我之后的所有的这个人的 prepare 都完成。比如说我就先把二和三都 prepare 好了。这个这个后面的机器都告诉我， OK 二和三都都得接受 s 一的这个培养。那之后大家想想我去做，我去做任何操作的时候，
14:10我其实做一次 rm trip 就行了，对吧？做一次 rm trip 就可以了。那它这个时候它的性能其实是会和这个 prime back tup 接近的啊接接近的。所以我们可以看到，虽然我们说 pacthppackas 它很很多时候他不要求 leader，
14:24不要求 primary。但是啊在在这个很多的这个实现里面，它会有一个这样的一个 leader 啊，它本质原因就是为了第一加速实践啊，第二其实它也能简化这样的一个加，主要就是为了这样的一个加速。
14:37当然我们需要强调一下的，就是说在 pythons 里面它的这个正确性是不依赖于你的这个 leader。所以你可以不挑 leader 啊，没有任何的这样的一个这样这样的一个关系啊，就是它也能物质掌握，只是说它只是一个性能上的这样的优化。
14:52当然这样一个本身这个操作，它也会这个这个能够对对做对做一些加速 OK。好，那 pensas 的话到这边为置啊，我们其实就把这个这个 pensas 的这个精髓的啊这个部分基本上都讲完了。当然这个 pensas 这个协议它还是挺难用的啊，
15:09挺难用的。因为它在实际过程中啊，它其实会有一些啊小的这种 issue 啊，就是说有些问题比如说我们可以看到的一个例子。就是说啊因为我这个比如说我假设我要我要维护一个 log 用 paxes，但我这个 log 填多少内容，
15:25完全取决于你这个 primary，对吧？它到底是开启了哪个 index？比如说我这个 s 一是 leader 啊，它这个很坏啊，我就是跳过了这个 log 啊，
15:36 index a 二，我就是先做这个 index 三的这个这个 log，它其实理论上也可以做。那最后导致这个结果就是你一个 log 啊，它里面会有一项是空的，对吧？
15:45那么大家想我们平时做到时候，你的这个这个这个这个这个这个空的啊空啊这这呃这个空的它其实本质上啊，本质上这个这个东西不是个很常见的事情。那在 pacthce 里面这个可能是会出现的。所以说啊你在写代码的时候啊，其实是需要去注意啊这样的一事 OK 行。
16:03那我们呃今天可能这些些课上上的对码，然后我们简单总结一下的话，就是我们今天讲的是是这分布式里面，对吧？这个一个非常非常重要的话题，就是我怎么既保证 very waate，
16:14又能保证 consistcy 啊，在没有 network party 的情况下啊，以及在这 nenet of party 的情况下，我们怎么尽可能的去保证把这个正确性啊，这个事情都都不是很简单，都不是很简单啊。
16:25所以现有的方法的话就呃呃比较核心的有两种，一种是 prian back up，一种是 pasxas。那么还有一种大家可能会听过叫这个 raft 啊，对吧？在 raft 的话，
16:34这个我们这天根本没时间，我们就不讲啊，那个反正原理上也是大差不差的。 raft 本质上是可以认为是一个这个 backup 的这个 prime ate 以自选举的这样的的一个一个过程啊，自选举的这样的一个过程。然后现有的这个这个这个这个比喻期已经我觉得非常确定了。
16:49所以说现有的基本上大家用的这种啊主流的这种数据库啊什么，对吧？都或多或少采用这些方法来某个变种。那么这些方法的话，我们大家需要明确点，就是说啊这些方法它都没有办法达到 CAP 啊，
17:01就它只是尽可能的去达到 CAP 中的两者啊，或者说在没有批的情况下把两者同时达到好不好？行，那那那我们这节课就介绍到这个啊，你下课吧，我去没事，
17:41下次不要给他纪念管理。我这很多呃时现那个这哪个线，你是那我就是这个没不给第十次，我不知不行，七嗯是谢谢去， yes，
25:30谢谢模型。是是嗯，等一下做去的七会，是的，切是不是七大家要？对，
42:00嘿，是去嗯，你下课早点，什么联想，华为差不多，操是不能。
44:56苹果的是都是你他说的开始喂，我后他便我爱听。你说我我的头像不点到关键字生物差不多吧。认真，你的意思是说应该使用 coso 五分钟完成，明天的让我们偶尔洗手写这个我们不到它看起来不多，
47:07实际上不少。这样因为你要配置一个网，就是说你要配置两三个 reading boot 项目，然后你用 in pagage 这个东西你就会遇到哎像地域一般的依赖问题，然后就就头大了。我们不有会有依赖问题。
47:25因为有一因为呃因为截止到去年，我下载这玩意儿的时候，他用的他用的 GDK 版本是比较用旧旧的对。然后呢他又新他又发现啊我这个依赖包有一个，然后呢，这个检测了以后呢，
47:43就会自动不使用。然后我把浩鹏那个浩鹏那个叉 l 的，然后复制复制粘贴一下就够用了。我一看浩鹏，那个 IOL 也是这个就是上课那个样例，也是指定了，
47:57指定了用哪个？你声音月多少直接可以，不是 GDP 理，是软件包问题哦那个呃就呃叫啥，这叫一目一串那个哇 MEN。别笑便宜不可见你我也不是情况，
48:34也是不归谢我丝滑教授，丝滑教授更是批肤。还没都写完了，我啥时候写完的？我上周上上周上周四不行，欢通你做辅助的，
48:52我一写那个就是要包括保霜系统。我刚刚反正你不接那个直接创新是我空间不大，我给你看一台一块吧的，我一直不记得，不是你不是三 t 吗？奶茶 c 盘怎么这么大，
49:11不使用什么打磨了怎么办？其实游戏 DD 盘里，你哪个盘是游戏 d 盘， d 盘呢估起来只能当个数据啊数据啊。我本来想说你把游戏卸载，就是肯定程序都在这儿。
49:29你还有三百多 g 我说你成我说你游戏可以以游戏戏了不少，谢谢谢，不然不然地毯都爆了。晚上好，我我还有整整仪器没有，就我做完把效效果效果都能无线拖下去。
49:48就是但这个这个 c 盘的要你看一一下空间， c 盘差不多十个月就好。我现我现在手来都爆破，我现在已经成为 c 盘战型，我我就一 t 的 c 盘买的还是买了，直接换了，
50:04不知哎，不对吧，说对不起这个就我那个最大的是平是把把这个温度都是把脂它删掉。我不还有，因为咱们有个这个有一说一，这仨我都不知道是啥，
50:34但是我也不敢动，我也不知道这啥是有别的是我是什么。那你再看看我的 c 翻译，一堆神秘神秘小文件，删掉之后头也就挤了。其实真的这个动的东西他都不让你拆掉，
50:58那可不一定我直接速度过步啊，速度我这些速度踢全了。那那你的你看这个这这个终端，有的时候他是不给你不给你这个权限的那你速度我不该想呃，速度 power 使用，坚持齐全，
51:19提前提高 a mini sping。然后这个时候你就如果然后喂十二 m is you 主要是有些之前请务必须我得得得表表说速度度度对，可够，能够只能输入才能开。因为它本来就就是注册注册个服务，因为它本来就是本地注册的，
51:43用我我想要用命令行的话，需要用输度，我不需要。我感觉需要，然后卡不卡这个东西我是我又不需要看他的日志，我每次都是卡不卡 care，
51:55然后再配一个卡不卡卡不卡， star 就自己写的，是不是只给删掉，然后再重新调一次去，我能看到暴露在删除。他喜欢手，
52:09但是比较冷。其实你搞小妖妹一对头，就精神小小兔，这个过程都很小的啊，我们是小辉缴控大学，我也就看嘛，
52:34要不一下，然后我也觉得喜欢。鼓励自主的山地伏妻战一个结束，新主要媒体记能有有中间，而且要期末有烟，说是所以最好还是最好还是给给未来的自己有条路。
53:16这我都是对你做上级作为具体执着于策划放送课，也能有一些别的事情要吗？有如事情，我们有你打开核对，经下这个我国我自己看电话已经报了，我过还有个治，
53:37我都我起码还要去七七，像我嗯一点钟嗯嗯嗯拓居哦，对他头像是那个头像是曹冲，确实该被破军了。给冲上来刀结构，银行很纠纷，
54:57一键就易纠纷。